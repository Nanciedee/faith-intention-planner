<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Faith & Intention Interactive</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;1,700&family=Lato:wght@300;400&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root { --p-blue: #BFD8EB; --p-lilac: #D9C1EB; --blush: #F6D1D1; --cream: #FFF5E1; }
        body { font-family: 'Lato', sans-serif; background-color: var(--cream); color: #4A4A4A; }
        .serif { font-family: 'Playfair Display', serif; }
        .level-btn.active { background-color: var(--p-lilac); border-color: #9f7aea; color: white; transform: scale(1.05); }
        .ritual-slot { min-height: 40px; display: flex; gap: 8px; flex-wrap: wrap; border-bottom: 1px dashed #D9C1EB; }
        .sticker { cursor: pointer; transition: transform 0.2s; }
        .sticker:hover { transform: translateY(-5px); }
    </style>
</head>
<body class="min-h-screen flex flex-col md:flex-row overflow-hidden">

    <nav class="w-full md:w-72 bg-white/80 backdrop-blur-md border-r p-6 flex flex-col z-10">
        <div class="mb-10 text-center">
            <h1 class="serif text-2xl font-bold text-indigo-950">Intention 2026</h1>
            <p class="text-xs tracking-widest text-gray-400">DAILY INTERACTIVE</p>
        </div>
        <ul class="flex-1 space-y-2">
            <li><button onclick="showPage('daily')" class="w-full text-left p-3 rounded-xl hover:bg-white flex items-center gap-3 font-bold text-indigo-700 bg-white shadow-sm"><i data-lucide="sun"></i> Daily Micro-Tracker</button></li>
            <li><button onclick="showPage('weekly')" class="w-full text-left p-3 rounded-xl hover:bg-white flex items-center gap-3"><i data-lucide="sparkles"></i> Weekly Rituals</button></li>
            <li><button onclick="showPage('emotional')" class="w-full text-left p-3 rounded-xl hover:bg-white flex items-center gap-3"><i data-lucide="heart"></i> Emotional Success</button></li>
        </ul>
    </nav>

    <main class="flex-1 p-6 md:p-12 overflow-y-auto">
        <div id="content-container" class="max-w-4xl mx-auto bg-white/60 shadow-2xl rounded-[3rem] p-10 min-h-[85vh] border border-white relative">
            </div>
    </main>

    <script>
        // Global State for Interactive Features
        let journalState = JSON.parse(localStorage.getItem('faithJournal_v2')) || {
            moodHistory: [],
            weeklyRituals: { Monday: [], Tuesday: [], Wednesday: [], Thursday: [], Friday: [], Saturday: [], Sunday: [] }
        };

        const pages = {
            daily: `
                <div class="flex justify-between items-center mb-10">
                    <h2 class="serif text-3xl">Daily Micro-Tracker</h2>
                    <span class="text-indigo-400 font-bold underline decoration-indigo-200 underline-offset-8">${new Date().toLocaleDateString()}</span>
                </div>
                
                <div class="grid gap-8">
                    ${['Movement', 'Prayer', 'Connection', 'Creative'].map(item => `
                        <div class="p-6 bg-white/40 rounded-2xl border border-white">
                            <div class="flex justify-between items-center mb-4">
                                <label class="font-bold text-lg text-indigo-900">${item}</label>
                                <div class="flex gap-2">
                                    ${['Low', 'Mid', 'High'].map(lvl => `
                                        <button onclick="setLevel('${item}', '${lvl}')" id="btn-${item}-${lvl}" class="level-btn px-4 py-1 rounded-full border border-gray-200 text-xs transition-all bg-white">${lvl}</button>
                                    `).join('')}
                                </div>
                            </div>
                            <textarea id="note-${item}" class="w-full bg-transparent border-none text-sm italic" placeholder="How did it go?"></textarea>
                        </div>
                    `).join('')}
                </div>`,

            weekly: `
                <h2 class="serif text-3xl mb-4 text-center">Weekly Rituals</h2>
                <p class="text-center text-gray-400 text-sm mb-8 italic">Click a sticker below, then click a day to place it.</p>
                
                <div class="space-y-4 mb-10">
                    ${['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'].map(day => `
                        <div class="flex items-center gap-4 bg-white/40 p-3 rounded-lg">
                            <span class="w-20 font-bold text-indigo-400">${day}</span>
                            <div id="slot-${day}" onclick="placeSticker('${day}')" class="ritual-slot flex-1 p-2 rounded border-2 border-dashed border-indigo-100 bg-indigo-50/30">
                                ${renderStickers(day)}
                            </div>
                        </div>
                    `).join('')}
                </div>

                <div class="p-6 bg-white rounded-3xl shadow-inner text-center">
                    <p class="text-xs uppercase font-bold text-gray-400 mb-4">Available Stickers</p>
                    <div class="flex justify-center gap-6">
                        <button onclick="activeSticker='üôè'" class="sticker text-3xl">üôè</button>
                        <button onclick="activeSticker='üé®'" class="sticker text-3xl">üé®</button>
                        <button onclick="activeSticker='üèÉ'" class="sticker text-3xl">üèÉ</button>
                        <button onclick="activeSticker='üìñ'" class="sticker text-3xl">üìñ</button>
                        <button onclick="activeSticker='üåø'" class="sticker text-3xl">üåø</button>
                        <button onclick="activeSticker='‚ú®'" class="sticker text-3xl">‚ú®</button>
                    </div>
                </div>`,

            emotional: `
                <h2 class="serif text-3xl mb-10">Emotional Success</h2>
                
                <div class="bg-indigo-900 text-white p-8 rounded-3xl shadow-xl mb-10">
                    <h3 class="mb-6 opacity-80 uppercase tracking-widest text-xs">How are you feeling right now?</h3>
                    <div class="flex justify-between mb-8">
                        ${['üåà', '‚òÄÔ∏è', '‚òÅÔ∏è', 'üåßÔ∏è', '‚õàÔ∏è'].map(m => `
                            <button onclick="saveMood('${m}')" class="text-4xl hover:scale-125 transition-transform drop-shadow-lg">${m}</button>
                        `).join('')}
                    </div>
                    
                    <div class="border-t border-indigo-700 pt-6">
                        <h4 class="text-xs uppercase opacity-60 mb-4 font-bold">Past 7 Days Recap</h4>
                        <div class="flex gap-4">
                            ${journalState.moodHistory.slice(-7).map(entry => `
                                <div class="text-center">
                                    <div class="text-2xl">${entry.mood}</div>
                                    <div class="text-[10px] opacity-40">${entry.date}</div>
                                </div>
                            `).join('') || '<p class="text-sm opacity-40">No history yet...</p>'}
                        </div>
                    </div>
                </div>

                <div class="p-6 bg-pink-50/50 border border-pink-100 rounded-3xl">
                    <label class="block serif text-xl mb-4">Daily Gratitude</label>
                    <textarea class="w-full bg-transparent border-none italic text-lg h-32" placeholder="I am grateful for..."></textarea>
                </div>`
        };

        let activeSticker = null;

        function showPage(id) {
            const container = document.getElementById('content-container');
            container.innerHTML = pages[id];
            lucide.createIcons();
            
            // Re-apply active levels on daily page
            if (id === 'daily') {
                Object.keys(journalState).forEach(key => {
                    if (key.startsWith('lvl-')) {
                        const [_, item, lvl] = key.split('-');
                        document.getElementById(`btn-${item}-${lvl}`)?.classList.add('active');
                    }
                });
            }
        }

        function setLevel(item, lvl) {
            // Remove active from others
            ['Low', 'Mid', 'High'].forEach(l => document.getElementById(`btn-${item}-${l}`).classList.remove('active'));
            // Add to current
            document.getElementById(`btn-${item}-${lvl}`).classList.add('active');
            journalState[`lvl-${item}-${lvl}`] = true;
            saveState();
        }

        function saveMood(moodEmoji) {
            const today = new Date().toLocaleDateString('en-US', {weekday: 'short'});
            journalState.moodHistory.push({ mood: moodEmoji, date: today });
            saveState();
            showPage('emotional'); // Refresh to show recap
        }

        function placeSticker(day) {
            if (!activeSticker) return alert("Select a sticker from the bottom first!");
            journalState.weeklyRituals[day].push(activeSticker);
            saveState();
            showPage('weekly');
        }

        function renderStickers(day) {
            return journalState.weeklyRituals[day].map(s => `<span class="text-xl">${s}</span>`).join('');
        }

        function saveState() {
            localStorage.setItem('faithJournal_v2', JSON.stringify(journalState));
        }

        showPage('daily');
    </script>
</body>
</html>
